# Heatmap Regression for Coastal Landmark Localisation - Configuration

data:
  images_dir: "data/images"
  annotations_file: "data/annotations.json"
  input_width: 512
  input_height: 384
  output_width: 128
  output_height: 96
  num_landmarks: 7

model:
  backbone: "resnet50"
  pretrained: true
  decoder_channels: [256, 128, 64]
  output_activation: "sigmoid"

heatmap:
  sigma: 4.0

loss:
  type: "weighted_mse"
  alpha: 5.0  # weight factor for weighted MSE
  coord_weight: 5.0  # coordinate regression loss weight

training:
  batch_size: 8
  epochs: 300
  freeze_encoder_epochs: 5
  encoder_lr: 1.0e-5
  decoder_lr: 1.0e-4
  weight_decay: 1.0e-4
  lr_scheduler: "plateau"  # "plateau" or "cosine"
  plateau_patience: 10
  plateau_factor: 0.5
  early_stopping_patience: 25
  use_mixed_precision: true

data_split:
  train_ratio: 0.70
  val_ratio: 0.15
  test_ratio: 0.15
  random_seed: 42

augmentation:
  enabled: true
  rotation_limit: 20
  scale_limit: 0.2
  translate_limit: 0.15
  brightness_limit: 0.3
  contrast_limit: 0.3
  saturation_limit: 0.3
  hue_shift_limit: 10
  blur_limit: 5
  noise_var_limit: 0.02
  horizontal_flip: false  # set true only if scene is symmetric

inference:
  soft_argmax: true
  local_window_size: 11  # window around argmax peak for soft-argmax

output:
  checkpoint_dir: "checkpoints"
  log_dir: "logs"
  results_dir: "results"
